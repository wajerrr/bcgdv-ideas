(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(33)},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),d=n(14),c=n.n(d),r=n(2),o=n(6),u=n(17),l=n(12),s=n(18),f=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},p=(new Date).toString(),E=[{id:f(),created_date:p,title:"1dsdsd",body:"ds"},{id:f(),created_date:p,title:" 2dsdsd",body:"ds"},{id:f(),created_date:p,title:" 3dsdsd",body:"ds"},{id:f(),created_date:p,title:" 4dsdsd",body:"ds"},{id:f(),created_date:p,title:" 5 dsdsd",body:"ds"},{id:f(),created_date:p,title:"6 dsdsd",body:"ds"},{id:f(),created_date:p,title:"7 dsdsd",body:"ds"},{id:f(),created_date:p,title:"8 dsdsd",body:"ds"},{id:f(),created_date:p,title:"9 dsdsd",body:"ds"}];function h(e,t){switch(e){case"ideas/":return new Promise(function(e){setTimeout(function(){e(E)},500)});case"ideas/new":return new Promise(function(e){setTimeout(function(){e({id:f(),created_date:(new Date).toString()})},1500)});case"ideas/update":case"ideas/delete":return new Promise(function(e){setTimeout(function(){e()},1500)});default:return""}}var b="ADD_TILE",m="DELETE_TILE",y="UPDATE_TILE",T="REQUEST_TILES",v="RECEIVE_TILES";var _="REQUEST_NEW_TILE",g="RECEIVE_NEW_TILE";var I="REQUEST_UPDATE_TILE",D="RECEIVE_UPDATE_TILE";var k="REQUEST_DELETE_TILE",C="RECEIVE_DELETE_TILE";var j=[];var w=Object(r.c)({ideas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return[{id:t.tempId}].concat(Object(s.a)(e));case m:return e.filter(function(e){return e.id!==t.id});case y:return e.map(function(e){return e.id===t.id?Object(l.a)({},e,{body:t.body,title:t.title}):e});case g:return e.map(function(e){return e.id===t.tempId?Object(l.a)({},e,{id:t.tile.id,created_date:t.tile.created_date}):e});case v:return t.tiles;default:return e}}}),O=n(3),L=n(4),S=n(7),N=n(5),R=n(8),U=(n(29),function(e){function t(e,n){var a;Object(O.a)(this,t),a=Object(S.a)(this,Object(N.a)(t).call(this,e,n));var i=e.title,d=e.body;return a.state={title:i||"",body:d||""},a}return Object(R.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.title,n=e.id;void 0===t&&document.getElementById("".concat(n,"-input")).focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=t.title,a=t.body;this.state={title:e.title||n,body:e.body||a}}},{key:"updateTile",value:function(e,t,n){(0,this.props.updateTileCallback)(e,t,n)}},{key:"deleteTile",value:function(e){(0,this.props.deleteTileCallback)(e)}},{key:"handleBodyChange",value:function(e){this.setState({body:e.target.value})}},{key:"handleTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.createdDate,d=this.state,c=d.title,r=d.body;return i.a.createElement("li",{className:"idea-tile"},i.a.createElement("input",{id:"".concat(n,"-input"),onBlur:function(){return e.updateTile(n,r,c)},value:c,onChange:function(t){return e.handleTitleChange(t)}}),i.a.createElement("input",{onBlur:function(){return e.updateTile(n,r,c)},onChange:function(t){return e.handleBodyChange(t)},maxLength:"140",value:r}),i.a.createElement("p",{className:"tile-id"},"id:"," ",n.includes("-temp-local-id")?"":n),i.a.createElement("p",{className:"tile-create-date"},"created_date:"," ",a),i.a.createElement("button",{type:"button",className:"delete-button",onClick:function(){return e.deleteTile(n)}},"Delete"))}}]),t}(a.Component)),P=(n(31),function(e){function t(){return Object(O.a)(this,t),Object(S.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(R.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchTiles)()}},{key:"render",value:function(){var e=this.props,t=e.ideas,n=e.fetchNewTile,a=e.fetchDeleteTile,d=e.fetchUpdateTile;return i.a.createElement("section",{className:"main"},i.a.createElement("button",{type:"button",onClick:function(){return n()}},"ADD TILE"),i.a.createElement("ul",null,t.map(function(e){return i.a.createElement(U,{body:e.body,title:e.title,createdDate:e.created_date,id:e.id,deleteTileCallback:a,updateTileCallback:d,key:e.id})})))}}]),t}(a.Component));var B=Object(o.b)(function(e){return{ideas:e.ideas}},{fetchDeleteTile:function(e){return function(t){return t(function(e){return{type:m,id:e}}(e)),t({type:k}),h("ideas/delete").then(function(){return t({type:C,tile:e,tempId:n});var e,n}).catch(function(e){console.log(e.message)})}},fetchUpdateTile:function(e,t,n){return function(a){return a(function(e,t,n){return{type:y,id:e,body:t,title:n}}(e,t,n)),a({type:I}),h("ideas/update").then(function(){return a({type:D,tile:e,tempId:t});var e,t}).catch(function(e){console.log(e.message)})}},fetchNewTile:function(){var e="".concat(f(),"-temp-local-id");return function(t){return t(function(e){return{type:b,tempId:e}}(e)),t({type:_}),h("ideas/new").then(function(n){return t(function(e,t){return{type:g,tile:e,tempId:t}}(n,e))}).catch(function(e){console.log(e.message)})}},fetchTiles:function(){return function(e){return e({type:T}),h("ideas/").then(function(t){return e(function(e){return{type:v,tiles:e}}(t))}).catch(function(e){console.log(e.message)})}}})(P),A=Object(r.d)(Object(r.a)(u.a))(r.e)(w);c.a.render(i.a.createElement(o.a,{store:A},i.a.createElement(B,null)),document.getElementById("root"))}},[[19,2,1]]]);
//# sourceMappingURL=main.5e0b86f1.chunk.js.map